
JavaDestin is a Java JNI interface to CudaDestin generated using SWIG (http://www.swig.org/Doc2.0/ ). 
SWIG can also generate wrappers for lots of other languages as well, including Octave (Matlab clone) and python.


---PREQUISITES---
*Swig >= 2.0.4 is needed (other 2.x versions might work as well). Build from sources from http://prdownloads.sourceforge.net/swig/swig-2.0.4.tar.gz and install using its make file. It needs libpcre3-dev (Perl Compativle Regular Expressions)

*Ant (http://ant.apache.org/) is also needed. My version of ant is 1.8.0-4, your luck may vary with other versions. Try installing in from synaptic first.

*Java SDK
Right how this has only been tested on Ubuntu 10.10 64bit with 
java version "1.6.0_24"
Java(TM) SE Runtime Environment (build 1.6.0_24-b07)
Java HotSpot(TM) 64-Bit Server VM (build 19.1-b02, mixed mode)

Using the Sun SDK. I ran into issues while using the OpenJDK version while building with ant. On ubuntu look for the "sun-java6-jdk" package to install. 
Then you'll probably need to set it as the default JDK by running 

sudo update-alternatives --config java

or you might get compile errors like
"/home/ted/oc/destin/src/DestinCuda/JavaDestin/nbproject/build-impl.xml:272: Unable to find a javac compiler;
com.sun.tools.javac.Main is not on the classpath.
Perhaps JAVA_HOME does not point to the JDK.
"

The the ant build file build.xml located in DestinCuda/JavaDestin was generated by a netbeans7.0 project (but it shouldn't be require to build or run).

*OpenCV (Open Computer Vision) - I'm using its highgui library to access videos and webcam stream. Install libhighgui-dev 2.1.0 and any dependencies using synaptic.
Or from command line try:
sudo apt-get install libhighgui-dev
Which should install the following dependencies: libcv2.1 (2.1.0-2) libhighgui2.1 (2.1.0-2) libhighgui-dev (2.1.0-2) libcv-dev (2.1.0-2) 




---BUILDING and RUNNING---

Note: at the moment there are some hard coded paths in src/DestinCuda/JavaDestin/src/javadestin/JavaDestin.java. Edit it as appropriate. However, the java_run.sh script is currently set to run VideoExperiment.java which currently doesn't have hard coded paths.

After installing the prerequisites,to build:

cd destin/src/DestinCuda
cmake . 
make
./java_build.sh

Note: CMAKE with SWIG is not so great at detecting source code changes, so try "make clean" then ./build_java.sh if you run into compile errors after updating code.A

Plug in a webcam
./java_run.sh

Your webcam video should popup in a window. The console output will show a 4x4 block of text at about 5 frames/ second. Let it run for about 3 minutes or so which then DeSTIN will start to recongnize states and the text block will move from the left to right depending on what it sees. 

